<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from www.apache.org/dev/key-transition.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jun 2019 09:33:31 GMT -->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Home page of The Apache Software Foundation">
  
  <link rel="apple-touch-icon" sizes="57x57" href="http://www.apache.org/favicons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="http://www.apache.org/favicons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="http://www.apache.org/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="http://www.apache.org/favicons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="http://www.apache.org/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="http://www.apache.org/favicons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="http://www.apache.org/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="http://www.apache.org/favicons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="http://www.apache.org/favicons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="http://www.apache.org/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="http://www.apache.org/favicons/favicon-194x194.png" sizes="194x194">
  <link rel="icon" type="image/png" href="http://www.apache.org/favicons/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="http://www.apache.org/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="http://www.apache.org/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="http://www.apache.org/favicons/manifest.json">
  <link rel="shortcut icon" href="http://www.apache.org/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#603cba">
  <meta name="msapplication-TileImage" content="http://www.apache.org/favicons/mstile-144x144.png">
  <meta name="msapplication-config" content="http://www.apache.org/favicons/browserconfig.xml">
  <meta name="theme-color" content="#282661">

  <title>How To Transition To A Longer Key</title>
  <link href="https://fonts.googleapis.com/css?family=Montserrat:300,600" rel="stylesheet">
  <link href="http://www.apache.org/css/min.bootstrap.css" rel="stylesheet">
  <link href="http://www.apache.org/css/styles.css" rel="stylesheet">
  

  <!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements.  See the NOTICE file distributed with this work for additional information regarding copyright ownership.  The ASF licenses this file to you under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use this file except in compliance with the License.  You may obtain a copy of the License at . http://www.apache.org/licenses/LICENSE-2.0 . Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the License for the specific language governing permissions and limitations under the License. -->

</head>

<body>
  <!-- Navigation -->
  <header>
    <nav class="navbar navbar-inverse navbar-fixed-top mainmenu">
      <div class="container">
        <div class="navbar-header">
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#mainnav-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="collapse navbar-collapse" id="mainnav-collapse">
          <ul class="nav navbar-nav navbar-justified">
            <li>
              <form class="visible-xs">
                <div class="input-group" style="width: 100%;">
                  <script>
                    (function() {
                    var cx = '005703438322411770421:5mgshgrgx2u';
                    var gcse = document.createElement('script');
                    gcse.type = 'text/javascript';
                    gcse.async = true;
                    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                    '//cse.google.com/cse.js?cx=' + cx;
                    var s = document.getElementsByTagName('script')[0];
                    s.parentNode.insertBefore(gcse, s);
                    })();
                  </script>
                  <gcse:searchbox-only></gcse:searchbox-only>
                </div>
              </form>
            </li>
            <li><a href="http://www.apache.org/index.html#news">News</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">About&nbsp;<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="http://www.apache.org/foundation">Overview</a></li>
                <li><a href="http://www.apache.org/foundation/how-it-works.html">Process</a></li>
                <li><a href="http://www.apache.org/foundation/governance/">Governance</a></li>
                <li><a href="http://www.apache.org/theapacheway/index.html">The Apache Way</a></li>
                <li><a href="http://www.apache.org/foundation/governance/members.html">Membership</a></li>
                <li><a href="https://community.apache.org/">Community</a></li>
                <li><a href="http://www.apache.org/foundation/glossary.html">Glossary</a></li>
                <li><a href="http://www.apache.org/foundation/preFAQ.html">FAQ</a></li>
                <li><a href="http://www.apache.org/foundation/policies/conduct">Code of Conduct</a></li>
                <li><a href="http://www.apache.org/foundation/contributing.html">Support Apache</a></li>
                <li><a href="http://www.apache.org/press/">Media/Analysts</a></li>
                <li><a href="http://www.apache.org/foundation/contact.html">Contact</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Make a Donation&nbsp;<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="http://www.apache.org/foundation/contributing.html">Donate Now</a></li>
                <li><a href="https://donate.apache.org/">&nbsp;&nbsp;Via Credit Card</a></li>
                <li><a href="https://donate.apache.org/">&nbsp;&nbsp;Via ACH</a></li>
                <li><a href="https://donate.apache.org/">&nbsp;&nbsp;Via PayPal</a></li>
                <li><a href="http://www.apache.org/foundation/contributing.html#Bitcoin">&nbsp;&nbsp;Using Bigcoin</a></li>
                <li><a href="https://www.redbubble.com/people/comdev">Buy Swag</a></li>
                <li><a href="https://smile.amazon.com/gp/chpf/homepage/ref=smi_se_scyc_srch_stsr?q=apache+software+foundation&amp;orig=%2F">Shop smile.amazon.com</a></li>
                <li><a href="http://www.apache.org/foundation/sponsorship.html">ASF Sponsorship</a></li>
                <li><a href="http://www.apache.org/foundation/thanks#targeted-sponsors">Targeted Sponsorship</a></li>
                <li><a href="http://www.apache.org/foundation/contributing.html#CorporateGiving">Corporate Giving</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdopwn-toggle" data-toggle="dropdown">The Apache Way&nbsp;<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="http://www.apache.org/theapacheway/index.html">The Apache Way</a></li>
                <li><a href="https://s.apache.org/GhnI">Sustainable Open Source</a></li>
                <li><a href="http://www.apache.org/foundation/how-it-works.html">How it Works</a></li>
                <li><a href="http://www.apache.org/foundation/how-it-works.html#meritocracy">Merit</a></li>
                <li><a href="https://blogs.apache.org/foundation/category/SuccessAtApache">Success at Apache</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdopwn-toggle" data-toggle="dropdown">Join Us&nbsp;<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="https://community.apache.org/gettingStarted/101.html">Getting Started</a></li>
                <li><a href="https://helpwanted.apache.org/">Help Wanted</a></li>
                <li><a href="https://www.apachecon.com/">ApacheCon</a></li>
                <li><a href="http://community.apache.org/calendars/">Community Events</a></li>
                <li><a href="http://www.apache.org/travel/">Travel Assistance</a></li>
                <li><a href="https://community.apache.org/gsoc.html">Summer of Code</a></li>
                <li><a href="http://www.apache.org/foundation/policies/conduct">Code of Conduct</a></li>
                <li><a href="https://community.apache.org/contributors/etiquette">Etiquette</a></li>
                <li class="dropdown dropdown-submenu visible-xs">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Projects&nbsp;<span class="caret"></span></a>
                  <ul class="dropdown-menu" role="menu">
                    <li><a href="http://www.apache.org/index.html#projects-list">Project List</a></li>
                    <li><a href="http://www.apache.org/foundation/how-it-works.html#management">How they work</a></li>
                    <li><a href="https://community.apache.org/projectIndependence.html">Independence</a></li>
                    <li><a href="https://projects.apache.org/committees.html?date">Date Founded</a></li>
                    <li><a href="https://projects.apache.org/projects.html?name">Names</a></li>
                    <li><a href="https://projects.apache.org/projects.html?category">Categories</a></li>
                    <li><a href="https://projects.apache.org/projects.html?language">Languages</a></li>
                    <li><a href="https://projects.apache.org/statistics.html">Statistics</a></li>
                    <li><a href="https://incubator.apache.org/">Apache Incubator</a></li>
                    <li><a href="https://helpwanted.apache.org/">Help Wanted</a></li>
                    <li><a href="http://www.apache.org/foundation/marks/">Brand Management</a></li>
                  </ul>
                </li>
                <li class="drowpdown dropdown-submenu visible-xs">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown">People&nbsp;<span class="caret"></span></a>
                  <ul class="dropdown-menu" role="menu">
                    <li><a href="http://www.apache.org/foundation/how-it-works.html#roles">Roles</a></li>
                    <li><a href="http://www.apache.org/foundation/members.html">Members</a></li>
                    <li><a href="https://community.apache.org/contributors/">Committers</a></li>
                    <li><a href="http://www.apache.org/foundation/#who-runs-the-asf">Board of Directors</a></li>
                    <li><a href="http://www.apache.org/foundation/#who-runs-the-asf">Officers  &amp; Project VPs</a></li>
                    <li><a href="https://community.zones.apache.org/map.html">Location Map</a></li>
                    <li><a href="http://www.apache.org/foundation/policies/conduct">Code of Conduct</a></li>
                    <li><a href="https://people.apache.org/">Committer Directory</a></li>
                  </ul>
                </li>
                <li class="drowpdown dropdown-submenu visible-xs">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community&nbsp;<span class="caret"></span></a>
                  <ul class="dropdown-menu" role="menu">
                    <li><a href="https://community.apache.org/about/">Community Development</a></li>
                    <li><a href="http://www.apache.org/foundation/policies/conduct">Code of Conduct</a></li>
                    <li><a href="https://community.apache.org/">Get Involved</a></li>
                    <li><a href="https://community.apache.org/mentoringprogramme.html">Mentoring</a></li>
                    <li><a href="https://helpwanted.apache.org/">Help Wanted</a></li>
                    <li><a href="https://community.apache.org/calendars/">Community Events</a></li>
                    <li><a href="https://community.apache.org/newbiefaq.html">FAQ</a></li>
                    <li><a href="https://community.apache.org/lists.html">Mailing Lists</a></li>
                  </ul>
                </li>
                <li class="drowpdown dropdown-submenu visible-xs">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown">License&nbsp;<span class="caret"></span></a>
                  <ul class="dropdown-menu" role="menu">
                    <li><a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></li>
                    <li><a href="http://www.apache.org/foundation/license-faq.html">Licensing FAQ</a></li>
                    <li><a href="http://www.apache.org/licenses/contributor-agreements.html">Contributor License Agreements</a></li>
                    <li><a href="http://www.apache.org/licenses/contributor-agreements.html#grants">Software Grants</a></li>
                    <li><a href="http://www.apache.org/foundation/marks/list/">Trademarks</a></li>
                  </ul>
                </li>
                <li class="drowpdown dropdown-submenu visible-xs">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Sponsors&nbsp;<span class="caret"></span></a>
                  <ul class="dropdown-menu" role="menu">
                    <li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsor the ASF</a></li>
                    <li><a href="http://www.apache.org/foundation/thanks">Sponsor Thanks</a></li>
                    <li><a href="http://www.apache.org/foundation/contributing.html#CorporateGiving">Corporate Giving</a></li>
                    <li><a href="http://www.apache.org/foundation/contributing.html">Individual Donations</a></li>
                    <li><a href="https://www.redbubble.com/people/comdev/">Buy Stuff</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Downloads&nbsp;<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="http://www.apache.org/dist/">Distribution</a></li>
                <li><a href="https://projects.apache.org/releases.html">Releases</a></li>
                <li><a href="http://www.apache.org/dyn/closer.cgi">Mirrors</a></li>
                <li><a href="https://status.apache.org/">Infrastructure Status</a></li>
                <li><a href="http://www.apache.org/uptime/">Infrastructure Statistics</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-search"
                  aria-hidden="true"></span><span class="sr-only">Search</span></a>
              <ul class="dropdown-menu search-form" role="search">
                <li>
                  <div class="input-group" style="width: 100%; padding: 0 5px;">
                    <script>
                      (function() {
                      var cx = '005703438322411770421:5mgshgrgx2u';
                      var gcse = document.createElement('script');
                      gcse.type = 'text/javascript';
                      gcse.async = true;
                      gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                      '//cse.google.com/cse.js?cx=' + cx;
                      var s = document.getElementsByTagName('script')[0];
                      s.parentNode.insertBefore(gcse, s);
                      })();
                    </script>
                    <gcse:searchbox-only></gcse:searchbox-only>
                  </div>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>
  <!-- / Navigation -->
  <header id="main-header" class="container">
    <div class="sideImg">
      <a class="visible-home" href="http://apachecon.com/"><img class="img-responsive" src="http://www.apache.org/img/ApacheCon-PROMO-2019.gif" alt="ApacheCon is Coming 9-12 Sept. 2019 - Las Vegas"></a>
      <a class="hidden-home" href="http://www.apache.org/"><img class="img-responsive" src="http://www.apache.org/img/ASF20thAnniversary.jpg" alt="The Apache Software Foundation"></a>
    </div>
    <div class="main">
      <img class="img-responsive center-block visible-home" src="http://www.apache.org/img/ASF20thAnniversary.jpg" alt="Apache 20th Anniversary Logo">
      <h2 class="text-center">Celebrating 20 years of community-led development "The&nbsp;Apache&nbsp;Way"</h2>
      <ul class="nav navbar-nav navbar-justified">
        <li class="drowpdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Projects&nbsp;<span class="caret hidden-sm"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://www.apache.org/index.html#projects-list">Project List</a></li>
            <li><a href="#">How they work</a></li>
            <li><a href="https://community.apache.org/projectIndependence.html">Independence</a></li>
            <li><a href="https://projects.apache.org/committees.html?date">Date Founded</a></li>
            <li><a href="https://projects.apache.org/projects.html?name">Names</a></li>
            <li><a href="https://projects.apache.org/projects.html?category">Categories</a></li>
            <li><a href="https://projects.apache.org/projects.html?language">Languages</a></li>
            <li><a href="https://projects.apache.org/statistics.html">Statistics</a></li>
            <li><a href="https://incubator.apache.org/">Apache Incubator</a></li>
            <li><a href="https://helpwanted.apache.org/">Help Wanted</a></li>
            <li><a href="http://www.apache.org/foundation/marks/">Brand Management</a></li>
            <li><a href="http://www.apache.org/foundation/glossary.html">Glossary of Terms</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">People&nbsp;<span class="caret hidden-sm"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://www.apache.org/foundation/how-it-works.html#roles">Roles</a></li>
            <li><a href="http://www.apache.org/foundation/members.html">Members</a></li>
            <li><a href="https://community.apache.org/contributors/">Committers</a></li>
            <li><a href="http://www.apache.org/foundation/#who-runs-the-asf">Board of Directors</a></li>
            <li><a href="http://www.apache.org/foundation/#who-runs-the-asf">Officers &amp; Product VPs</a></li>
            <li><a href="https://community.zones.apache.org/map.html">Heat Map</a></li>
            <li><a href="http://www.apache.org/foundation/policies/conduct">Code of Conduct</a></li>
            <li><a href="https://people.apache.org/">Committer Directory</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community&nbsp;<span class="caret hidden-sm"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="https://community.apache.org/about/">Community Development</a></li>
            <li><a href="http://www.apache.org/foundation/policies/conduct">Code of Conduct</a></li>
            <li><a href="https://community.apache.org/">Get Involved</a></li>
            <li><a href="https://community.apache.org/mentoringprogramme.html">Mentoring</a></li>
            <li><a href="https://helpwanted.apache.org/">Help Wanted</a></li>
            <li><a href="https://community.apache.org/calendars/">Community Events</a></li>
            <li><a href="https://community.apache.org/newbiefaq.html">FAQ</a></li>
            <li><a href="https://community.apache.org/lists.html">Mailing Lists</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">License&nbsp;<span class="caret hidden-sm"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></li>
            <li><a href="http://www.apache.org/foundation/license-faq.html">Licensing FAQ</a></li>
            <li><a href="http://www.apache.org/licenses/contributor-agreements.html">Contributor License Agreements</a></li>
            <li><a href="http://www.apache.org/licenses/contributor-agreements.html#grants">Software Grants</a></li>
            <li><a href="http://www.apache.org/foundation/marks/list/">Trademarks</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Sponsors&nbsp;<span class="caret hidden-sm"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsor the ASF</a></li>
            <li><a href="http://www.apache.org/foundation/thanks">Sponsor Thanks</a></li>
            <li><a href="http://www.apache.org/foundation/contributing.html#CorporateGiving">Corporate Giving</a></li>
            <li><a href="http://www.apache.org/foundation/contributing.html">Individual Donations</a></li>
            <li><a href="https://www.redbubble.com/people/comdev/">Buy Stuff</a></li>
          </ul>
        </li>
      </ul>
    </div>
    <div class="sideImg">
      <a href="http://www.apache.org/foundation/contributing.html"><img class="img-responsive" src="http://www.apache.org/img/support-apache.jpg" alt="Apache Support Logo" /></a>
    </div>
  </header>
  <div class="container"><style type="text/css">
/* The following code is added by mdx_elementid.py
   It was originally lifted from http://subversion.apache.org/style/site.css */
/*
 * Hide class="elementid-permalink", except when an enclosing heading
 * has the :hover property.
 */
.headerlink, .elementid-permalink {
  visibility: hidden;
}
h2:hover > .headerlink, h3:hover > .headerlink, h1:hover > .headerlink, h6:hover > .headerlink, h4:hover > .headerlink, h5:hover > .headerlink, dt:hover > .elementid-permalink { visibility: visible }</style>
<h1 id="status">Status<a class="headerlink" href="#status" title="Permanent link">&para;</a></h1>
<p>This document explains how to create a new PGP key and break it in, gradually
having it replace the old key.  It is here for the information of committers
who wish to change the PGP key they use at Apache (for example to <a href="http://www.apache.org/dev/release#what-must-every-release-contain">sign
releases</a> with).</p>
<h1 id="contents">Contents<a class="headerlink" href="#contents" title="Permanent link">&para;</a></h1>
<div class="toc">
<ul>
<li><a href="#status">Status</a></li>
<li><a href="#contents">Contents</a></li>
<li><a href="#important">Important Note</a></li>
<li><a href="#motivation">Motivation</a></li>
<li><a href="#single-keyring">Using A Single Keyring For Two Keys</a><ul>
<li><a href="#generate-new-key">Generate New Key</a></li>
<li><a href="#open-interaction-edit">Open Interative Edit</a></li>
<li><a href="#trust-new-key">Trust The New Key</a></li>
<li><a href="#sign-new-key">Sign New Key With Old</a></li>
<li><a href="#check-sha">Check Preferences</a></li>
<li><a href="#finish-off">Complete Edit</a></li>
<li><a href="#sign-old-with-new">Whether To Sign The Old Key With The New</a></li>
<li><a href="#set-default-to-new">Set Default To New Key</a></li>
<li><a href="#update-keys">Upload Both Keys</a></li>
<li><a href="#backups">Create Backups</a></li>
<li><a href="#revocation-certificates">Generate And Store Revocation Certificates</a></li>
<li><a href="#update-documents">Update Documents</a></li>
<li><a href="#wot">Web Of Trust</a></li>
</ul>
</li>
<li><a href="#transition-export">How To Export Both New And Old Keys</a></li>
<li><a href="#transition-fingerprints">How To Fingerprint New And Old Keys</a></li>
</ul>
</div>
<h1 id="important">Important Note<a class="headerlink" href="#important" title="Permanent link">&para;</a></h1>
<p>If your key has been compromised, you <strong>MUST NOT</strong> use a transition period.
You should immediately <a href="http://www.apache.org/dev/release-signing.html#revoke-key">revoke</a> the
compromised key and <a href="http://www.apache.org/dev/openpgp.html#generate-key">create a new one</a>. All <a href="http://www.apache.org/dev/release-signing.html#web-of-trust">web
of trust</a> links signed by the old key
should be regarded as suspect. A completely new set of links <strong>MUST</strong> be
re-established by meeting <a href="http://www.apache.org/dev/release-signing.html#key-signing-party">in
person</a>.</p>
<h1 id="motivation">Motivation<a class="headerlink" href="#motivation" title="Permanent link">&para;</a></h1>
<p>When replacing one uncompromised key with a newer (typically longer) one, a
transition period where both keys are trustworthy and participate in the
<a href="http://www.apache.org/dev/release-signing.html#web-of-trust">web of trust</a> allows - by <a href="http://www.apache.org/dev/release-signing.html#web-of-trust">trust
transitivity</a> - links to the old key to
be used to trust signatures and links created by the new key. During a
transition, both keys are trustworthy but only (the newer) one is actively
used to sign documents and certify links in the <a href="http://www.apache.org/dev/release-signing.html#web-of-trust">web of
trust</a>.</p>
<p>This document describes how to use <a href="http://www.gnupg.org/">GnuPG</a> to create
a new key and manage the keys during this transition period.</p>
<h1 id="single-keyring">Using A Single Keyring For Two Keys<a class="headerlink" href="#single-keyring" title="Permanent link">&para;</a></h1>
<p>It is best to use a single keyring containing both keys.</p>
<h2 id="generate-new-key">Generate New Key<a class="headerlink" href="#generate-new-key" title="Permanent link">&para;</a></h2>
<p>The new key should be generated either:</p>
<ul>
<li>
<p>directly in the keyring containing the old key</p>
</li>
<li>
<p>in a new keyring and then transferred to the keyring containing the old
key</p>
</li>
</ul>
<p>To generate a strong <a href="http://www.apache.org/dev/release-signing.html#rsa">RSA</a> key follow these
<a href="http://www.apache.org/dev/openpgp.html#generate-key">instructions</a>. If a
separate keyring is used then follow these
<a href="http://www.apache.org/dev/openpgp.html#secret-key-transfer">instructions</a> to transfer it.</p>
<p>Both new and old keys should now be contained in the same keyring. Verify
this by:
<pre>
$ gpg --list-secret-keys  <br />
alice/secring.gpg</p>
<hr />
<p>sec   1024D/AD741727 2009-08-20
uid                  Alice Example (EXAMPLE OF OLD KEY) &lt;alice@example.org&gt;
ssb   1024g/268883A9 2009-08-20</p>
<p>sec   4096R/E2B054B8 2009-08-20
uid                  Alice Example (EXAMPLE NEW KEY) &lt;alice@example.org&gt;
ssb   4096R/4A6D5217 2009-08-20
</pre>
Both new and old keys should be listed.</p>
<h2 id="open-interaction-edit">Open Interative Edit<a class="headerlink" href="#open-interaction-edit" title="Permanent link">&para;</a></h2>
<p>Now a number of operations need to be performed on the new key. Though it's
possible to perform them individually (saving and closing after each one)
it is more convenient to use the interactive edit mode.</p>
<p>Start by opening an edit session on the new key, for example <code>E2B054B8</code> 
<pre>
$ gpg --edit-key E2B054B8
gpg (GnuPG) 1.4.9; Copyright (C) 2008 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.</p>
<p>Secret key is available.</p>
<p>pub  4096R/E2B054B8  created: 2009-08-20  expires: never       usage: SC<br />
                     trust: unknown       validity: unknown
sub  4096R/4A6D5217  created: 2009-08-20  expires: never       usage: E <br />
[ unknown] (1). Alice Example (EXAMPLE NEW KEY) &lt;alice@example.org&gt;</p>
<p>Command&gt; </p>
</pre>

<h2 id="trust-new-key">Trust The New Key<a class="headerlink" href="#trust-new-key" title="Permanent link">&para;</a></h2>
<p>The new key needs to be marked as ultimately trusted in this keyring. This
will ensure that the <a href="http://www.apache.org/dev/release-signing.html#web-of-trust">web of trust</a>
links signed by this key will be trusted automatically.
<pre>
Command&gt; trust
pub  4096R/E2B054B8  created: 2009-08-20  expires: never       usage: SC<br />
                     trust: unknown       validity: unknown
sub  4096R/4A6D5217  created: 2009-08-20  expires: never       usage: E <br />
[ unknown] (1). Alice Example (EXAMPLE NEW KEY) &lt;alice@example.org&gt;</p>
<p>Please decide how far you trust this user to correctly verify other users'
keys
(by looking at passports, checking fingerprints from different sources,
etc.)</p>
<p>1 = I don't know or won't say
  2 = I do NOT trust
  3 = I trust marginally
  4 = I trust fully
  5 = I trust ultimately
  m = back to the main menu</p>
<p>Your decision? 5
Do you really want to set this key to ultimate trust? (y/N) y</p>
<p>pub  4096R/E2B054B8  created: 2009-08-20  expires: never       usage: SC<br />
                     trust: ultimate      validity: unknown
sub  4096R/4A6D5217  created: 2009-08-20  expires: never       usage: E <br />
[ unknown] (1). Alice Example (EXAMPLE NEW KEY) &lt;alice@example.org&gt;
Please note that the shown key validity is not necessarily correct
unless you restart the program.</p>
</pre>

<h2 id="sign-new-key">Sign New Key With Old<a class="headerlink" href="#sign-new-key" title="Permanent link">&para;</a></h2>
<p>The new key should be signed with the old key (AD741727, say):
<pre>
Command&gt; sign AD741727</p>
<p>pub  4096R/E2B054B8  created: 2009-08-20  expires: never       usage: SC<br />
                     trust: ultimate      validity: ultimate
Primary key fingerprint: FF96 6261 C995 1DDE BF34  5150 D5D2 BDB5 E2B0 54B8</p>
<div class="codehilite"><pre> <span class="n">Alice</span> <span class="n">Example</span> <span class="p">(</span><span class="n">EXAMPLE</span> <span class="n">NEW</span> <span class="n">KEY</span><span class="p">)</span> <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">alice</span><span class="p">@</span><span class="n">example</span><span class="p">.</span><span class="n">org</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</pre></div>


<p>Are you sure that you want to sign this key with your
key "Alice Example (EXAMPLE OF OLD KEY) &lt;alice@example.org&gt;"
(AD741727)</p>
<p>Really sign? (y/N) y</p>
<p>You need a passphrase to unlock the secret key for
user: "Alice Example (EXAMPLE OF OLD KEY) &lt;alice@example.org&gt;"
1024-bit DSA key, ID AD741727, created 2009-08-20</p>
</pre>

<h2 id="check-sha">Check Preferences<a class="headerlink" href="#check-sha" title="Permanent link">&para;</a></h2>
<p>Check that <a href="http://www.apache.org/dev/openpgp.html#sha1">check that SHA-1 is avoided</a> in the <a href="http://www.apache.org/dev/openpgp.html#key-prefs">key
preferences</a> of both the new and old keys.</p>
<h2 id="finish-off">Complete Edit<a class="headerlink" href="#finish-off" title="Permanent link">&para;</a></h2>
<p>It is convenient to add secondary user ids (for current email accounts)
now.</p>
<p>Save changes (which exits edit mode):
<pre>
Command&gt; save
</pre></p>
<h2 id="sign-old-with-new">Whether To Sign The Old Key With The New<a class="headerlink" href="#sign-old-with-new" title="Permanent link">&para;</a></h2>
<p>Arguments can be made for and against signing the old key with the new. The
old key is less trustworthy now and will be revoked in future so signing it
may be misleading for those unaware of the potential weaknesses. However,
without this signature, signers of the new key will not receive the
transitive benefit of the links made from the old key. Anyone who chooses
not to sign the old key with the new should made efforts to resign links
made by the old key with the new key.</p>
<h2 id="set-default-to-new">Set Default To New Key<a class="headerlink" href="#set-default-to-new" title="Permanent link">&para;</a></h2>
<p>Next, the default key on the keyring needs to be changed from the old key
to the new. This will ensure that all future signatures will - by default -
use the new key. Though the old key can still be used for signing by
explicitly specifying it, this use should be avoided since the signatures
will be weak.</p>
<p>To make the new key the default, set the <code>default-key</code> in the
<a href="http://www.apache.org/dev/openpgp.html#configuration">gpg.conf</a> configuration file. For example, to
set the default to <code>E2B054B8</code> add:
<pre>
default-key E2B054B8
</pre>
This setting can be tested by creating a test signature:
<pre>
$ gpg --detach-sig --armor document</p>
<p>You need a passphrase to unlock the secret key for
user: "Alice Example (EXAMPLE NEW KEY) &lt;alice@example.org&gt;"
4096-bit RSA key, ID E2B054B8, created 2009-08-20
</pre>
Verify that the new key has been chosen by default.</p>
<h2 id="update-keys">Upload Both Keys<a class="headerlink" href="#update-keys" title="Permanent link">&para;</a></h2>
<p>Finish the process by uploading the new and old keys to the keyserver:
<pre>
$ gpg --send-keys E2B054B8 AD741727
</pre></p>
<h2 id="backups">Create Backups<a class="headerlink" href="#backups" title="Permanent link">&para;</a></h2>
<p>Follow these <a href="http://www.apache.org/dev/openpgp.html#backup">instructions</a>.</p>
<h2 id="revocation-certificates">Generate And Store Revocation Certificates<a class="headerlink" href="#revocation-certificates" title="Permanent link">&para;</a></h2>
<p>Follow these <a href="http://www.apache.org/dev/openpgp.html#revocation-certs">instructions</a> to create and
securely store generic <a href="http://www.apache.org/dev/release-signing.html#revocation-cert">revocation
certificates</a> for the new key.</p>
<h2 id="update-documents">Update Documents<a class="headerlink" href="#update-documents" title="Permanent link">&para;</a></h2>
<p>The final stage in the process is to update documents containing references
to the old key so that they contain both the new and old keys. For Apache
documents, follow this <a href="http://www.apache.org/dev/openpgp.html#update">checklist</a> opting for the
instructions appropriate for a transition (when given a choice).</p>
<p>For other documents:</p>
<ul>
<li>
<p>Those containing an <a href="http://www.apache.org/dev/release-signing.html#export">export</a> , should be
updated with a <a href="#transition-export">dual export</a> </p>
</li>
<li>
<p>Those containing a <a href="http://www.apache.org/dev/release-signing.html#fingerprint">fingerprint</a> should
be updated with <a href="#transition-fingerprints">both fingerprints</a> </p>
</li>
</ul>
<h2 id="wot">Web Of Trust<a class="headerlink" href="#wot" title="Permanent link">&para;</a></h2>
<p>Read this <a href="http://www.apache.org/dev/openpgp.html#wot">guide</a> to the Apache use of the <a href="http://www.apache.org/dev/release-signing.html#web-of-trust">web of
trust</a> and make arrangements for your
new key to be included at the earliest opportunity.</p>
<h1 id="transition-export">How To Export Both New And Old Keys<a class="headerlink" href="#transition-export" title="Permanent link">&para;</a></h1>
<p>During a transition period, a single export containing both new and old
public keys should be used whenever an export is needed. To create a
suitable export, supply both key IDs on the command line.</p>
<p>For example, to export keys <code>AD741727</code> (old) and <code>E2B054B8</code> (new) to
<em>FILENAME</em> use:
<pre>
$ gpg --export --armor --output FILENAME AD741727 E2B054B8
</pre>
This exports only the public keys, and so isn't confidential. Everywhere
the old public key was published should be replaced by this dual export.</p>
<h1 id="transition-fingerprints">How To Fingerprint New And Old Keys<a class="headerlink" href="#transition-fingerprints" title="Permanent link">&para;</a></h1>
<p>During the transitions, both fingerprints should be used. For example, to
fingerprint old key AD741727 and new key E2B054B8, use:
<pre>
$ gpg --fingerprint AD741727 E2B054B8
pub   1024D/AD741727 2009-08-20
      Key fingerprint = CD0C 5281 D0A9 E963 19AF  F365 AD81 612A AD74 1727
uid                  Alice Example (EXAMPLE OF OLD KEY) &lt;alice@example.org&gt;
sub   1024g/268883A9 2009-08-20</p>
<p>pub   4096R/E2B054B8 2009-08-20
      Key fingerprint = FF96 6261 C995 1DDE BF34  5150 D5D2 BDB5 E2B0 54B8
uid                 Alice Example (EXAMPLE NEW KEY) &lt;alice@example.org&gt;
sub   4096R/4A6D5217 2009-08-20
</pre>
So the fingerprints are:</p>
<ul>
<li>
<p><code>CD0C 5281 D0A9 E963 19AF  F365 AD81 612A AD74 1727</code> for AD741727</p>
</li>
<li>
<p><code>FF96 6261 C995 1DDE BF34  5150 D5D2 BDB5 E2B0 54B8</code> for E2B054B8</p>
</li>
</ul>
<p>(For every fingerprint, the last 8 digits are the key ID.)</p></div>

  <!-- Footer -->
  
  <footer class="bg-primary">
    <div class="container">
      <div class="row">
        <br />
        <div class="col-sm-1">

        </div>
        <div class="col-sm-2">
          <h5 class="white">Community</h5>
          <ul class="list-unstyled white" role="menu">
            <li><a href="http://community.apache.org/">Overview</a></li>
            <li><a href="http://www.apache.org/foundation/conferences.html">Conferences</a></li>
            <li><a href="http://community.apache.org/gsoc.html">Summer of Code</a></li>
            <li><a href="http://community.apache.org/newcomers/">Getting Started</a></li>
            <li><a href="http://www.apache.org/foundation/how-it-works.html">The Apache Way</a></li>
            <li><a href="http://www.apache.org/travel/">Travel Assistance</a></li>
            <li><a href="http://www.apache.org/foundation/getinvolved.html">Get Involved</a></li>
            <li><a href="http://www.apache.org/foundation/policies/conduct.html">Code of Conduct</a></li>
            <li><a href="http://community.apache.org/newbiefaq.html">Community FAQ</a></li>
            <li><a href="http://www.apache.org/memorials/">Memorials</a></li>
          </ul>
        </div>

        <div class="col-sm-2">
          <h5 class="white">Innovation</h5>
          <ul class="list-unstyled white" role="menu">
            <li><a href="http://incubator.apache.org/">Incubator</a></li>
            <li><a href="http://labs.apache.org/">Labs</a></li>
            <li><a href="http://www.apache.org/licenses/">Licensing</a></li>
            <li><a href="http://www.apache.org/foundation/license-faq.html">Licensing FAQ</a></li>
            <li><a href="http://www.apache.org/foundation/marks/">Trademark Policy</a></li>
            <li><a href="http://www.apache.org/foundation/contact.html">Contacts</a></li>
          </ul>
        </div>

        <div class="col-sm-2">
          <h5 class="white">Tech Operations</h5>
          <ul class="list-unstyled white" role="menu">
            <li><a href="http://www.apache.org/dev/">Developer Information</a></li>
            <li><a href="http://www.apache.org/dev/infrastructure.html">Infrastructure</a></li>
            <li><a href="http://www.apache.org/security/">Security</a></li>
            <li><a href="http://status.apache.org/">Status</a></li>
            <li><a href="http://www.apache.org/foundation/contact.html">Contacts</a></li>
          </ul>
        </div>

        <div class="col-sm-2">
          <h5 class="white">Press</h5>
          <ul class="list-unstyled white" role="menu">
            <li><a href="http://www.apache.org/press/">Overview</a></li>
            <li><a href="https://blogs.apache.org/">ASF News</a></li>
            <li><a href="https://blogs.apache.org/foundation/">Announcements</a></li>
            <li><a href="https://twitter.com/TheASF">Twitter Feed</a></li>
            <li><a href="http://www.apache.org/press/#contact">Contacts</a></li>
          </ul>
        </div>

        <div class="col-sm-2">
          <h5 class="white">Legal</h5>
          <ul class="list-unstyled white" role="menu">
            <li><a href="http://www.apache.org/legal/">Legal Affairs</a></li>
            <li><a href="http://www.apache.org/legal/dmca.html">DMCA</a></li>
            <li><a href="http://www.apache.org/licenses/">Licensing</a></li>
            <li><a href="http://www.apache.org/foundation/marks/">Trademark Policy</a></li>
            <li><a href="http://www.apache.org/foundation/records/">Public Records</a></li>
            <li><a href="http://www.apache.org/foundation/policies/privacy.html">Privacy Policy</a></li>
            <li><a href="http://www.apache.org/licenses/exports/">Export Information</a></li>
            <li><a href="http://www.apache.org/foundation/license-faq.html">Licensing FAQ</a></li>
            <li><a href="http://www.apache.org/foundation/contact.html">Contacts</a></li>
          </ul>
        </div>

        <div class="col-sm-1">
        </div>

      </div>
      <hr class="col-lg-12 hr-white" />
      <div class="row">
        <div class="col-lg-12">
          <p class="text-center">Copyright &#169; 2019 The Apache Software Foundation, Licensed under the <a class="white" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.</p>
          <p class="text-center">Apache and the Apache feather logo are trademarks of The Apache Software Foundation. </p>
        </div>
      </div>
    </div>

  </footer>

  <!-- / Footer -->

  <script src="http://www.apache.org/js/jquery-2.1.1.min.js"></script>
  <script src="http://www.apache.org/js/bootstrap.js"></script>
  <script>
    (function($){
    $(document).ready(function(){
    $('ul.dropdown-menu [data-toggle=dropdown]').on('click', function(event) {
    event.preventDefault();
    event.stopPropagation();
    $(this).parent().siblings().removeClass('open');
    $(this).parent().toggleClass('open');
    console.log('WOrked');
    });
    });
    })(jQuery);
  </script>
</body>

<!-- Mirrored from www.apache.org/dev/key-transition.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jun 2019 09:33:31 GMT -->
</html>
